<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BFIDC | Smart Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap');
        body { font-family: 'Hind Siliguri', sans-serif; background: #f4f7f6; }

        /* SRN Form Styling - Exactly like the Image */
        .srn-original-style {
            background-color: #fffde7; /* হালকা হলুদ রঙ */
            border: 1.5px solid #000;
            padding: 30px;
            max-width: 850px;
            margin: 20px auto;
            color: #000;
            position: relative;
        }
        .govt-header { text-align: center; margin-bottom: 15px; }
        .govt-header h1 { font-size: 20px; font-weight: bold; margin: 0; }
        .govt-header p { font-size: 13px; margin: 2px 0; }
        .form-title { text-decoration: underline; font-weight: bold; font-size: 16px; margin-top: 10px; display: inline-block; }

        .form-meta { display: flex; justify-content: space-between; margin: 15px 0; font-size: 14px; font-weight: bold; }
        .dotted-line { border-bottom: 1.5px dotted #000; display: inline-block; padding: 0 10px; min-width: 100px; }

        .main-table { width: 100%; border-collapse: collapse; border: 1.5px solid #000; margin-top: 10px; }
        .main-table th, .main-table td { border: 1.2px solid #000; padding: 8px; text-align: center; font-size: 13px; }
        .main-table th { background: #f0f0f0; }

        /* Signature Section */
        .signature-section { display: flex; justify-content: space-between; margin-top: 60px; font-size: 14px; font-weight: bold; }
        .sign-box { text-align: center; width: 200px; }
        .sign-line { border-top: 1.5px solid #000; margin-bottom: 5px; }

        @media print {
            body { background: white; }
            .no-print { display: none !important; }
            .srn-original-style { box-shadow: none; border: 1.5px solid #000; margin: 0; width: 100%; }
            .printable-only { display: block !important; }
        }
    </style>
</head>
<body class="pb-10">

    <header class="bg-[#212121] text-white p-4 no-print flex justify-between items-center shadow-lg">
        <h1 class="font-bold">BFIDC | ডিজিটাল স্টোর ম্যানেজমেন্ট</h1>
        <button onclick="showPage('entry')" class="bg-emerald-600 px-4 py-2 rounded font-bold text-xs">নতুন এন্ট্রি</button>
    </header>

    <main class="p-4">
        <section id="entry-page" class="max-w-xl mx-auto bg-white p-6 rounded-xl shadow-md no-print border-t-4 border-emerald-600">
            <h2 class="font-bold border-b pb-2 mb-4">ভাণ্ডার এন্ট্রি ফরম</h2>
            <div class="grid grid-cols-2 gap-4 mb-4">
                <input type="text" id="srn-no" placeholder="ক্রমিক নং" class="p-2 border rounded">
                <input type="date" id="srn-date" class="p-2 border rounded">
            </div>
            <input type="text" id="vendor" placeholder="কোথা হতে প্রাপ্ত" class="w-full p-2 border rounded mb-4">
            <input type="text" id="item-name" placeholder="মালামালের বিবরণ" class="w-full p-2 border rounded mb-4">
            <div class="grid grid-cols-3 gap-2 mb-4">
                <input type="text" id="unit" placeholder="একক" class="p-2 border rounded">
                <input type="number" id="qty" placeholder="পরিমাণ" class="p-2 border rounded">
                <input type="number" id="price" placeholder="দর" class="p-2 border rounded">
            </div>
            <button onclick="saveData()" class="w-full bg-emerald-700 text-white py-3 rounded font-bold">সংরক্ষণ করুন</button>
        </section>

        <section id="srn-page" class="mt-8 space-y-10">
            </section>
    </main>

    <script>
        const DB_NAME = "BFIDC_SRN_DATA_FINAL";
        let store = JSON.parse(localStorage.getItem(DB_NAME)) || [];

        function saveData() {
            const data = {
                id: Date.now(),
                srn: document.getElementById('srn-no').value,
                date: document.getElementById('srn-date').value,
                from: document.getElementById('vendor').value,
                item: document.getElementById('item-name').value,
                unit: document.getElementById('unit').value,
                qty: document.getElementById('qty').value,
                price: document.getElementById('price').value
            };
            if(!data.srn || !data.item) return alert("তথ্য পূরণ করুন!");
            store.push(data);
            localStorage.setItem(DB_NAME, JSON.stringify(store));
            location.reload();
        }

        function renderData() {
            const container = document.getElementById('srn-page');
            container.innerHTML = store.slice().reverse().map(d => `
                <div class="srn-original-style shadow-lg">
                    <div class="no-print flex justify-end gap-2 mb-4">
                        <button onclick="window.print()" class="bg-black text-white px-3 py-1 rounded text-xs">প্রিন্ট</button>
                        <button onclick="deleteItem(${d.id})" class="text-red-600 border border-red-600 px-3 py-1 rounded text-xs">মুছুন</button>
                    </div>

                    <div class="govt-header">
                        <h1>বাংলাদেশ বনশিল্প উন্নয়ন কর্পোরেশন</h1>
                        <p>লাম্বার প্রসেসিং কমপ্লেক্স ও ফার্ণিচার ইউনিট</p>
                        <p>কাপতাই, রাঙামাটি পার্বত্য জেলা।</p>
                        <span class="form-title">ভাণ্ডার গ্রহণ পত্র</span>
                    </div>

                    <div class="form-meta">
                        <div>ক্রমিক নং - <span class="dotted-line">${d.srn}</span></div>
                        <div>তারিখ: <span class="dotted-line">${d.date}</span></div>
                    </div>

                    <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px;">
                        নিম্ন লিখিত মালামালগুলো <span class="dotted-line" style="min-width: 250px;">${d.from}</span> হইতে অত্র পত্র মোতাবেক বুঝিয়া পাইলাম।
                    </div>

                    <table class="main-table">
                        <thead>
                            <tr>
                                <th width="5%">ক্র: নং</th>
                                <th width="45%">মালামালের বিবরণ</th>
                                <th width="10%">একক</th>
                                <th width="10%">পরিমাণ</th>
                                <th width="10%">বিল নং</th>
                                <th width="10%">দর</th>
                                <th width="10%">মূল্য</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>১</td>
                                <td style="text-align: left; font-weight: bold;">${d.item}</td>
                                <td>${d.unit}</td>
                                <td>${d.qty}</td>
                                <td>-</td>
                                <td>${d.price}</td>
                                <td class="font-bold">${(d.qty * d.price).toLocaleString()}</td>
                            </tr>
                            <tr><td>&nbsp;</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                            <tr><td>&nbsp;</td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        </tbody>
                    </table>

                    <div class="signature-section">
                        <div class="sign-box">
                            <div class="sign-line"></div>
                            <p>গ্রহণকারী</p>
                            <p style="font-size: 11px;">তারিখ-</p>
                        </div>
                        <div class="sign-box">
                            <div class="sign-line"></div>
                            <p>তদন্তকারী / পরিদর্শক</p>
                            <p style="font-size: 11px;">তারিখ-</p>
                        </div>
                    </div>
                    <div style="text-align: left; font-size: 10px; margin-top: 10px;">ফরম-পি-৭</div>
                </div>
            `).join('');
        }

        function deleteItem(id) {
            if(confirm("মুছে ফেলবেন?")) {
                store = store.filter(x => x.id !== id);
                localStorage.setItem(DB_NAME, JSON.stringify(store));
                location.reload();
            }
        }

        renderData();
    </script>
</body>
</html>
